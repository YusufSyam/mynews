{% extends '/base.html' %}

{% block title %} Manage Categories {% endblock %}

{% block main_style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/manageCategoryStyle.css') }}"> {% endblock %}

{% block content %}
{% for flash_category, flash_message in get_flashed_messages(with_categories=True) %}
<div class="alert alert-{{ flash_category }} myAlert" role="alert">
    {{ flash_message }}
</div>
{% endfor %}
<div class="manageHeaderSection">
    <h3>Manage Categories</h3>
</div>
<div class="container">
    <div class="inputActionContainer">
        <a class="myAction myInput" href="{{ url_for('input_category') }}"><span>Insert New Category</span></a>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>No.</th>
                <th>Category</th>
                <th>Number of News</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for idx, i in categories %}
            <tr>
                <td>{{idx+1}}</td>
                <td>{{i.category}}</td>
                <td>{{num_of_news_list[idx]}}</td>
                <td class="actionContainer">
                    <a class="myAction myUpdate"
                        href="{{url_for('deleting_category', category_id=i.pk)}}"><span>Delete</span></a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block additional_script %}

{% endblock %}